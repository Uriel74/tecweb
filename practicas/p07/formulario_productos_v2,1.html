<!DOCTYPE html>
<html>
<head>
	<title>Formulario de Registro de Productos</title>
	<meta charset="UTF-8">
</head>
<body>
	<h1>Registro de Productos</h1>
	<form action="set_producto_v2.php" method="POST" onsubmit="return validarFormulario()">
		<label for="nombre">Nombre:</label>
		<input type="text" id="nombre" name="nombre"><br><br>
		
		<label for="marca">Marca:</label>
<select type="text" id="marca" name="marca" required>
	<option value="">Seleccione una opción</option>
	<option value="Trucker Hat Men">Trucker Hat Men</option>
	<option value="Prans">Prans</option>
</select><br><br>
		
		<label for="modelo">Modelo:</label>
		<input type="modelo" id="modelo" name="modelo"><br><br>
		
		<label for="precio">Precio:</label>
		<input type="number" id="precio" name="precio"><br><br>

        <label for="detalles">Detalles:</label>
		<textarea id="detalles" name="detalles"></textarea><br><br>

        <label for="unidades">Unidades:</label>
		<input type="number" id="unidades" name="unidades"><br><br>

        <label for="imagen">Imagen:</label>
		<input type="text" id="imagen" name="imagen"><br><br>
		
		<input type="submit" value="Registrar">
	</form>
  <br>
  <a href="http://localhost/tecweb/practicas/xd/get_productos_vigentes_v2.php?tope=20"><input type="button" value="Editar"></a>


	<script>
		function validarFormulario() {
  var nombre = document.getElementById("nombre").value;
  var marca = document.getElementById("marca").value;
  var modelo = document.getElementById("modelo").value;
  var precio = document.getElementById("precio").value;
  var detalles = document.getElementById("detalles").value;
  var unidades = document.getElementById("unidades").value;
  var imagen = document.getElementById("imagen");
  var errores = "";

  if (nombre == "") {
    errores += "- El nombre no puede estar vacío.\n";
  } else if (nombre.length > 100) {
    errores += "- El nombre no puede tener más de 100 caracteres.\n";
  }

  if (marca == "") {
    errores += "- La marca debe seleccionarse de la lista.\n";
  }

  if (modelo == "") {
    errores += "- El modelo no puede estar vacío.\n";
  } else if (!/^[a-zA-Z0-9 ]*$/.test(modelo)) {
    errores += "- El modelo debe ser alfanumérico.\n";
  } else if (modelo.length > 25) {
    errores += "- El modelo no puede tener más de 25 caracteres.\n";
  }

  if (precio == "") {
    errores += "- El precio no puede estar vacío.\n";
  } else if (isNaN(precio)) {
    errores += "- El precio debe ser un número.\n";
  } else if (precio <= 99.99) {
    errores += "- El precio debe ser mayor a 99.99.\n";
  }

  if (detalles.length > 250) {
    errores += "- Los detalles no pueden tener más de 250 caracteres.\n";
  }

  if (unidades == "") {
    errores += "- Las unidades no pueden estar vacías.\n";
  } else if (isNaN(unidades)) {
    errores += "- Las unidades deben ser un número.\n";
  } else if (unidades < 0) {
    errores += "- Las unidades deben ser mayor o igual a 0.\n";
  }

  if (errores != "") {
    alert("Por favor corrija los siguientes errores:\n" + errores);
    return false;
  }

  imagen.defaultValue = "img/pred.png";

  return true;
}

		</script>
</body>
</html>